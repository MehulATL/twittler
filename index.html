<!DOCTYPE html>
<html>
  <head>
    <script src="jquery.js"></script>
    <script src="data_generator.js"></script>
    <link rel="stylesheet" type="text/css" href="http://bootswatch.com/cosmo/bootstrap.min.css">
  </head>
  <body>
    <script>

      $(document).ready(function(){
        var $body = $('body');
        var $tweetContainer = $('.container');
        var $button = $('button');

        var displayTweets = function(index, tweetList){
          $tweetContainer.html('');
          while(index >= 0){
            var tweet = tweetList[index];
            var $tweet = $('<li></li>');
            $tweet.html('<a class ="' + tweet.user + '">@' + tweet.user + '</a>: ' + tweet.message + ' <span class = "text-muted" style = "font-size:0.8em">' + tweet.created_at.toString() + '</span>');
            $tweet.addClass("list-group-item");
            $tweet.appendTo($tweetContainer);
            index -= 1;
            $button.html('Show New Tweets')
          }
        };

        //display tweets on page load
        displayTweets(streams.home.length - 1, streams.home); 

        //display new tweets on button press
        $button.click(function(e){
          e.preventDefault();
          displayTweets(streams.home.length - 1, streams.home);
        });

        //show user specific tweets upon clicking username
        $tweetContainer.on('click', 'a', function(e){
          e.preventDefault();
          var user = $(this).attr('class');
          var userTimeline = streams.users[user];
          var timelineLength = userTimeline.length - 1;
          displayTweets(timelineLength,userTimeline);
          $button.html('Back to Main Timeline');
        });

      });
    </script>
    <div class = "jumbotron" style = "margin:0px 0px 0px 0px;">
      <p><span class = "text-primary" style = "font-size:2.5em;">Twittler</span><span class = "text-muted"> By: </span> <span class = "text-info">Mehul Patel</span></p>
    </div>
    <button class="btn-primary btn-block">Show New Tweets</button><br><br>
    <ul class = "list-group container" style = "display: block;"></ul>
  </body>
</html>
